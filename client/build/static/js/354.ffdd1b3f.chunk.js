"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[354],{9396:function(e,t,s){s.d(t,{DA:function(){return c},xJ:function(){return a},IU:function(){return i},jn:function(){return o},lm:function(){return l},zk:function(){return d},FQ:function(){return u},b2:function(){return h},af:function(){return m},dA:function(){return f},h8:function(){return x},JE:function(){return p}});var n=s(4569),r=s.n(n)().create({baseURL:"http://localhost:5000"});r.interceptors.request.use((function(e){return localStorage.getItem("profile")?e.headers.authentication="Bearer: ".concat(JSON.parse(localStorage.getItem("profile")).token):sessionStorage.getItem("profile")&&(e.headers.authentication="Bearer: ".concat(JSON.parse(sessionStorage.getItem("profile")).token)),e}));var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.get("products/".concat(e))},a=function(e){return r.post("/users/signin",e)},i=function(e){return r.post("/users/signup",e)},o=function(e){return r.post("/promo-codes/validate",e)},l=function(e){return r.get("/users/validate/".concat(e))},d=function(e){return r.post("/users/sendVerificationEmail",e)},u=function(){return r.get("/users/fetchUserData")},h=function(e){return r.post("/users/removeItemFromUserData",e)},m=function(e){return r.post("/users/addProductToLikedList",e)},f=function(e){return r.post("/users/addProductToCart",e)},x=function(e){return r.delete("/users/deleteUser",e)},p=function(e){return r.post("/payments/create-checkout-session",e)}},9354:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var n=s(5861),r=s(885),c=s(7757),a=s.n(c),i=s(2791),o=s(6030),l=s(7022),d=s(9743),u=s(2677),h=s(3360),m=s(2591),f=s(5313),x=s(4266),p=s(5736),j=s(7308),g=s(2576),N=s(4849),k=s(1830),b=s.n(k),v=s(3504),w=s(7482),y=s(9126),Z=s(859),C=s(9396),I=s(6871),S=s(3853),L=s(5863),A=s(4257),T=s(456),U=s(184);var z=function(){console.info("render");var e=(0,o.I0)(),t=(0,i.useState)(null),s=(0,r.Z)(t,2),c=s[0],k=s[1],z=(0,i.useState)(Z.$L),B=(0,r.Z)(z,2),E=B[0],J=B[1],O=(0,i.useState)(!1),P=(0,r.Z)(O,2),F=P[0],$=P[1],D=(0,I.s0)(),Y=sessionStorage.getItem("theme"),R="dark"===Y?"light":"dark",H=(0,i.useState)(JSON.parse(localStorage.getItem("profile")?localStorage.getItem("profile"):sessionStorage.getItem("profile"))),V=(0,r.Z)(H,1)[0],K=null!==V&&void 0!==V&&V.token?(0,T.Z)(V.token):null;function M(){return(M=(0,n.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.b2({item:t,field:E===Z.$L?Z.$L:E===Z.RA?Z.RA:null}).then((function(){var e=JSON.parse(JSON.stringify(c));e[E]=e[E].filter((function(e){return e.id!==t})),k(e)})).catch((function(e){return console.error("error",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.FQ().then((function(e){k(e.data)})).catch((function(e){return console.error("error",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(c);var Q=function(e){return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"clickable",onClick:function(){return D("/product/".concat(e.id))},children:e.name}),(0,U.jsx)("td",{className:"clickable",onClick:function(){return D("/product/".concat(e.id))},children:e.price}),(0,U.jsx)("td",{children:(0,U.jsx)(h.Z,{variant:"outline-danger",onClick:function(){return function(e){return M.apply(this,arguments)}(e.id)},children:E===Z.$L?(0,U.jsx)(S.Ybf,{}):(0,U.jsx)(L.SUp,{})})})]})};return c?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(l.Z,{className:"mt-4 pb-5 pt-1",children:(0,U.jsxs)(d.Z,{children:[(0,U.jsxs)(u.Z,{md:3,className:"mt-2 mb-4",children:[(0,U.jsxs)(d.Z,{className:"justify-content-center text-center",children:[(0,U.jsx)("p",{className:"fs-2 mt-2 mb-4 display-2",children:"Your Account"}),(0,U.jsx)("span",{children:(0,U.jsx)(A.ZP,{name:K.name,round:!0,src:K.imageUrl,size:"100"})}),(0,U.jsx)("p",{className:"fs-4 lead",children:(0,U.jsx)("strong",{children:K.name})}),!c.userInfo.isAccountValidated&&(0,U.jsx)(j.Z,{placement:"right",delay:{show:150,hide:200},overlay:(0,U.jsx)(g.Z,{children:"Click to activate"}),children:(0,U.jsx)(p.Z,{pill:!0,className:"fs-6 text-dark w-50 clickable",bg:"warning",onClick:function(){e((0,C.zk)({name:K.name,email:K.email,userID:K.id}).then(b().fire({titleText:"Confirmation email has been sent!",html:"<p>If you can't see the email, sent to <strong>".concat(K.email,"</strong>, check spam folder.</p>"),icon:"success",showConfirmButton:!0,background:"dark"===Y?"#303030":"#fcfcfc",color:"light"===Y?"#545454":"#f3f3f3"})))},children:"Not verified"})})]}),(0,U.jsx)("hr",{}),(0,U.jsxs)(d.Z,{className:"fs-5 lead",children:[(0,U.jsxs)("p",{children:["Country: ",(0,U.jsx)("strong",{children:c.userInfo.country})]}),(0,U.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,U.jsxs)("p",{children:["Email address: ",(0,U.jsx)("strong",{children:c.userInfo.email})]}),"\xa0",(0,U.jsx)("button",{onClick:(0,n.Z)(a().mark((function e(){var t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().fire({title:"New Email Address",background:"dark"===Y?"#303030":"#fcfcfc",color:"light"===Y?"#545454":"#f3f3f3",input:"email",inputPlaceholder:"Enter your email address",confirmButtonText:"Update"});case 2:t=e.sent,(s=t.value)&&b().fire("Entered email: ".concat(s));case 5:case"end":return e.stop()}}),e)}))),className:"fs-5 text-end switch-btn text-".concat(R),children:"change"})]}),(0,U.jsxs)("p",{children:["Account created:",(0,U.jsxs)("strong",{children:[" ",c.userInfo.createdAt]})]})]}),(0,U.jsx)("hr",{}),(0,U.jsx)(d.Z,{children:(0,U.jsx)("button",{onClick:function(){b().fire({titleText:"Are you sure you want to delete your account?",html:"<p>This process is irreversible. All of your data will be deleted from our servers according to <a href='/terms-of-service' target='_blank'>Terms of Service</a></p>",icon:"warning",iconColor:"#dc3545",background:"dark"===Y?"#303030":"#fcfcfc",color:"light"===Y?"#545454":"#f3f3f3",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,focusCancel:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, delete it",confirmButtonColor:"#dc3545"}).then(function(){var t=(0,n.Z)(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.isConfirmed){t.next=3;break}return t.next=3,C.h8().then((function(){e({type:Z.Nv}),b().fire({titleText:"Your account was successfully deleted!",icon:"success",background:"dark"===Y?"#272727":"#fcfcfc",color:"light"===Y?"#545454":"#f3f3f3",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,timer:3050}).then(D("/"))})).catch((function(e){return console.error(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},className:"fs-5 text-danger switch-btn clickable",children:"Delete Account"})})]}),(0,U.jsxs)(u.Z,{className:"offset-md-2",children:[(0,U.jsxs)(x.Z,{direction:"horizontal",gap:3,children:[(0,U.jsxs)(f.Z.Check.Label,{className:"w-100",children:[(0,U.jsx)(f.Z.Check.Input,{defaultChecked:!0,onClick:function(){return J(Z.$L)},name:"menus",type:"radio"}),(0,U.jsxs)("div",{className:"p-3 bg-".concat(Y," text-").concat(R," shadow-sm d-flex  justify-content-around align-items-center rounded clickable"),children:[(0,U.jsx)("p",{className:"fs-5",children:"Products in cart"}),(0,U.jsx)("h3",{className:"fs-2 text-primary",children:c.cart.length})]})]}),(0,U.jsxs)(f.Z.Check.Label,{className:"w-100",children:[(0,U.jsx)(f.Z.Check.Input,{onClick:function(){return J("likedList")},name:"menus",type:"radio"}),(0,U.jsxs)("div",{className:"p-3 bg-".concat(Y," text-").concat(R," shadow-sm d-flex justify-content-around align-items-center rounded clickable"),children:[(0,U.jsx)("p",{className:"fs-5",children:"Liked products"}),(0,U.jsx)("h3",{className:"fs-2 text-primary",children:c.likedList.length})]})]}),(0,U.jsxs)(f.Z.Check.Label,{className:"w-100",children:[(0,U.jsx)(f.Z.Check.Input,{name:"menus",type:"radio"}),(0,U.jsxs)("div",{className:"p-3 bg-".concat(Y," text-").concat(R," shadow-sm d-flex justify-content-around align-items-center rounded clickable"),children:[(0,U.jsx)("p",{className:"fs-5",children:"Orders"}),(0,U.jsx)("h3",{className:"fs-2 text-primary",children:"dev"})]})]})]}),(0,U.jsx)(d.Z,{style:{marginTop:"10vh"},className:"rounded border border-primary border-2 shadow",children:(0,U.jsxs)(m.Z,{variant:Y,hover:!0,className:"p-0 m-0",children:[(0,U.jsx)("thead",{children:(0,U.jsxs)("tr",{children:[(0,U.jsx)("th",{style:{width:"40%"},children:"Product Name"}),(0,U.jsx)("th",{style:{width:"20%"},children:"Price"}),(0,U.jsx)("th",{style:{width:"20%"},children:"Actions"})]})}),(0,U.jsx)("tbody",{children:c[E].map((function(e){return(0,U.jsx)(Q,{name:e.name,price:e.price,id:e.id},e.id)}))})]})}),E===Z.$L&&c.cart.length>0&&(0,U.jsxs)(d.Z,{children:[(0,U.jsxs)(h.Z,{as:v.rU,to:"../checkout/613e3e9bf52eba544e85c1cc",size:"lg",variant:"primary",className:"mt-5",children:["Checkout \xa0 ",(0,U.jsx)(y.w9M,{size:24,style:{marginTop:-5}})]}),(0,U.jsx)(h.Z,{onClick:(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,C.JE().then((function(e){window.location=e.data,$(!1)})).catch((function(e){console.log("error:",e),$(!1)}));case 3:case"end":return e.stop()}}),e)}))),size:"lg",variant:"primary",className:"mt-5",children:F?(0,U.jsxs)(i.Fragment,{children:[(0,U.jsx)(N.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,U.jsx)("span",{children:" Loading... "})]}):(0,U.jsxs)(i.Fragment,{children:["test \xa0 ",(0,U.jsx)(y.w9M,{size:24,style:{marginTop:-5}})]})})]})]})]})}),(0,U.jsx)(w.Z,{})]}):(0,U.jsx)("div",{children:"loading"})}},7482:function(e,t,s){s.d(t,{Z:function(){return i}});s(2791);var n=s(828),r=s(3853),c=s(6355),a=s(184);var i=function(){return(0,a.jsxs)("footer",{className:"text-center text-lg-start text-muted",children:[(0,a.jsxs)("section",{className:"\r d-flex\r justify-content-center justify-content-lg-between\r p-3\r border-bottom border-primary\r ",children:[(0,a.jsx)("div",{className:"d-none d-lg-block text-primary fs-5",children:(0,a.jsx)("span",{children:"Get connected with us on social networks:"})}),(0,a.jsxs)("div",{className:"fs-5",children:[(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(n.$Hv,{})}),(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(n.Fwv,{})}),(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(n.U1m,{})}),(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(r.JID,{})}),(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(c.ltd,{})}),(0,a.jsx)("a",{href:"#home",className:"me-4 text-reset",children:(0,a.jsx)(n.aZ7,{})})]})]}),(0,a.jsx)("section",{className:"",children:(0,a.jsx)("div",{className:"container text-center text-md-start mt-3",children:(0,a.jsxs)("div",{className:"row mt-3",children:[(0,a.jsxs)("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4",children:[(0,a.jsx)("h2",{className:"text-uppercase fw-bold mb-4 fs-6",children:"Company name"}),(0,a.jsx)("p",{children:"Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit."})]}),(0,a.jsxs)("div",{className:"col-md-2 col-lg-2 col-xl-2 mx-auto mb-2",children:[(0,a.jsx)("h2",{className:"text-uppercase fw-bold mb-4 fs-6",children:"Products"}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Angular"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"React"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Vue"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Laravel"})})]}),(0,a.jsxs)("div",{className:"col-md-3 col-lg-2 col-xl-2 mx-auto mb-2",children:[(0,a.jsx)("h2",{className:"text-uppercase fw-bold mb-4 fs-6",children:"Useful links"}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Pricing"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Settings"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Orders"})}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"#!",className:"text-reset",children:"Help"})})]}),(0,a.jsxs)("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-2",children:[(0,a.jsx)("h2",{className:"text-uppercase fw-bold mb-4 fs-6",children:"Contact"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("i",{className:"fas fa-home me-3"})," New York, NY 10012, US"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("i",{className:"fas fa-envelope me-3"}),"info@example.com"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("i",{className:"fas fa-phone me-3"})," + 01 234 567 88"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("i",{className:"fas fa-print me-3"})," + 01 234 567 89"]})]})]})})}),(0,a.jsxs)("div",{className:"copyright text-center p-3",children:["\xa9 2021 Copyright:",(0,a.jsx)("span",{className:"fw-bold",children:" Bozhidar Tomov"})]})]})}}}]);
//# sourceMappingURL=354.ffdd1b3f.chunk.js.map